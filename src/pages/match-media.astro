---
import Back from "../components/Back.astro";
import Layout from "../components/Layout.astro";
import { Code } from "astro:components";

const full = `const box = document.getElementById("box");

if (box) {
  const mobileWidthMediaQuery = window.matchMedia("(max-width: 992px)");

  function printLog(isMobileSize: boolean) {
    const size = isMobileSize ? "уже или равен" : "шире";

    if (box) box.innerText = 'Размер экрана ' + size + ' 992px';
  }

  printLog(mobileWidthMediaQuery.matches);

  mobileWidthMediaQuery.addEventListener("change", function (event) {
    printLog(event.matches);
  });
}
`;
---

<Layout>
  <Back />
  <div class="flex flex-col gap-4">
    <div
      class="h-80 w-80 flex justify-center items-center text-white font-bold text-4xl text-center"
      id="box"
    >
    </div>
    <div class="w-full flex flex-col gap-4">
      <Code code={full} lang="ts" />
    </div>
  </div>
</Layout>

<style>
  @media (orientation: landscape) {
    #box {
      background-color: blue;
    }
  }

  @media (orientation: portrait) {
    #box {
      background-color: green;
    }
  }
</style>

<script>
  const box = document.getElementById("box");

  if (box) {
    const mobileWidthMediaQuery = window.matchMedia("(max-width: 992px)");

    function printLog(isMobileSize: boolean) {
      const size = isMobileSize ? "уже или равен" : "шире";

      if (box) box.innerText = `Размер экрана ${size} 992px`;
    }

    printLog(mobileWidthMediaQuery.matches);

    mobileWidthMediaQuery.addEventListener("change", function (event) {
      printLog(event.matches);
    });
  }
</script>
